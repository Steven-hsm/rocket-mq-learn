https://rocketmq.apache.org/zh/docs/quickStart/01quickstart
##  Apache RocketMQ领域模型

![领域模型](https://rocketmq.apache.org/zh/assets/images/mainarchi-9b036e7ff5133d050950f25838367a17.png)

通信方式：异步通信

> 系统拓扑简单
> 上下游耦合较弱
> 异步解耦
> 流量削峰填谷

消息传输模式：发布订阅

#### 1. 生命周期

##### 1.1 消息生产

> 生产者：产生消息的运行实体，由业务方提供

##### 1.2 消息存储

> 主题：消息传输和存储的分组容器
> 	主题内部由多个队列组成
> 队列：消息传输和存储的实际单元容器，类比于其他消息队列中的分区
> 	通过流式特性的无线队列结构来存储消息，消息在队列内具备顺序性存储特征
> 	消息的存储和水平扩展实际是通过主题中的队列来实现的
> 消息：最小的传输单元
> 	具有不可变性，在初始化发送和完成存储后即不可变

##### 1.3 消息消费

> 消费者分组:用于统一管理底层运行的多个消费者,同一个消费者组的多个消费者必须保持消费逻辑和配置一直,共通分担该消费者组订阅的消息,实际消费能力的水平扩展
> 消费者:消费消息的运行实体,由业务方提供,消费者必须被制定到某一个消费者组中
> 订阅关系:消息过滤、重试、消费进度的规则配置
> 	以消费者组粒度进行管理，消费组通过定义订阅关系控制指定消费组下的消费者如何实现消息过滤、消息重试以及消息进度恢复等
> 	订阅关系除过滤表达式之外都是持久化的

#### 2. Topic

消息传输和存储的顶级容器，用于标识同一类业务逻辑的消息

1. 定义数据的分类隔离，建议将不同的业务类型的数据拆分到不同的主题中管理，通过主题实现存储的隔离性和订阅的隔离性
2. 定义数据的身份和权限

主题是一个逻辑概念，并不是实际的消息容器

主题内部由多个队列组成，消息的存储和水平扩展能力最终由队列实现。

##### 3.MessageQueue

消息存储和传输的实际容器，也是消息的最小存储单元

所有的主题都是由多个队列组成，以此来实现队列数量的的水平拆分和队列内部的流式存储

1. 存储的顺序性
2. 流式操作语义

#### 4. Message

最小数据传输单元

1. 消息不可变
2. 消息持久化

#### 5. Producer

构建并传输消息到服务端的运行实体

#### 6.ConsumerGroup

承载多个消费行为一致的消费者的负载均衡分组

#### 7. Consumer

来接收并处理消息的运行实体

#### 8. Subscription

系统中消费者获取消息、处理消息的规则和状态配置

